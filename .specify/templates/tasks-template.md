````markdown
---

description: "フィーチャー実装のためのタスクリストテンプレート"
---

# タスク: [フィーチャー名]

**入力**: `/specs/[###-feature-name]/` からの設計ドキュメント
**前提条件**: plan.md（必須）、spec.md（ユーザーストーリーに必須）、research.md、data-model.md、contracts/

**テスト**: 以下の例にはテストタスクが含まれています。テストはオプションです - フィーチャー仕様で明示的に要求された場合のみ含めてください。

**整理**: タスクはユーザーストーリーごとにグループ化されており、各ストーリーの独立した実装とテストを可能にしています。

## 形式: `[ID] [P?] [Story] 説明`

- **[P]**: 並列実行可能（異なるファイル、依存関係なし）
- **[Story]**: このタスクが属するユーザーストーリー（例: US1、US2、US3）
- 説明に正確なファイルパスを含めること

## パス規約

- **単一プロジェクト**: リポジトリルートの `src/`、`tests/`
- **Webアプリ**: `backend/src/`、`frontend/src/`
- **モバイル**: `api/src/`、`ios/src/` または `android/src/`
- 以下のパスは単一プロジェクトを想定 - plan.mdの構造に基づいて調整

<!-- 
  ============================================================================
  重要: 以下のタスクは説明用のサンプルタスクです。
  
  /speckit.tasks コマンドは以下に基づいて実際のタスクで置き換える必要があります:
  - spec.mdからのユーザーストーリー（優先度P1、P2、P3...付き）
  - plan.mdからのフィーチャー要件
  - data-model.mdからのエンティティ
  - contracts/からのエンドポイント
  
  タスクは各ストーリーが以下を実現できるようにユーザーストーリーごとに整理する必要があります:
  - 独立した実装
  - 独立したテスト
  - MVPインクリメントとしての納品
  
  生成されたtasks.mdファイルにこれらのサンプルタスクを残さないでください。
  ============================================================================
-->

## フェーズ1: セットアップ（共有インフラストラクチャ）

**目的**: プロジェクトの初期化と基本構造

- [ ] T001 実装計画に従いプロジェクト構造を作成
- [ ] T002 [言語]プロジェクトを[フレームワーク]の依存関係で初期化
- [ ] T003 [P] リンティングとフォーマッティングツールを設定

---

## フェーズ2: 基盤（ブロッキング前提条件）

**目的**: いかなるユーザーストーリーの実装開始前にも完了が必須のコアインフラストラクチャ

**⚠️ 重要**: このフェーズが完了するまでユーザーストーリーの作業は開始不可

基盤タスクの例（プロジェクトに基づいて調整）:

- [ ] T004 データベーススキーマとマイグレーションフレームワークをセットアップ
- [ ] T005 [P] 認証/認可フレームワークを実装
- [ ] T006 [P] APIルーティングとミドルウェア構造をセットアップ
- [ ] T007 すべてのストーリーが依存するベースモデル/エンティティを作成
- [ ] T008 エラーハンドリングとロギングインフラストラクチャを設定
- [ ] T009 環境設定管理をセットアップ

**チェックポイント**: 基盤準備完了 - ユーザーストーリーの実装は並列で開始可能

---

## フェーズ3: ユーザーストーリー1 - [タイトル]（優先度: P1）🎯 MVP

**目標**: [このストーリーが提供するものの簡潔な説明]

**独立テスト**: [このストーリーが単独で機能することの検証方法]

### ユーザーストーリー1のテスト（オプション - テストが要求された場合のみ）⚠️

> **注意: これらのテストを最初に書き、実装の前に失敗することを確認してください**

- [ ] T010 [P] [US1] tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト
- [ ] T011 [P] [US1] tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト

### ユーザーストーリー1の実装

- [ ] T012 [P] [US1] src/models/[entity1].pyに[Entity1]モデルを作成
- [ ] T013 [P] [US1] src/models/[entity2].pyに[Entity2]モデルを作成
- [ ] T014 [US1] src/services/[service].pyに[Service]を実装（T012、T013に依存）
- [ ] T015 [US1] src/[location]/[file].pyに[エンドポイント/フィーチャー]を実装
- [ ] T016 [US1] バリデーションとエラーハンドリングを追加
- [ ] T017 [US1] ユーザーストーリー1の操作にロギングを追加

**チェックポイント**: この時点で、ユーザーストーリー1は完全に機能し、独立してテスト可能であるべき

---

## フェーズ4: ユーザーストーリー2 - [タイトル]（優先度: P2）

**目標**: [このストーリーが提供するものの簡潔な説明]

**独立テスト**: [このストーリーが単独で機能することの検証方法]

### ユーザーストーリー2のテスト（オプション - テストが要求された場合のみ）⚠️

- [ ] T018 [P] [US2] tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト
- [ ] T019 [P] [US2] tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト

### ユーザーストーリー2の実装

- [ ] T020 [P] [US2] src/models/[entity].pyに[Entity]モデルを作成
- [ ] T021 [US2] src/services/[service].pyに[Service]を実装
- [ ] T022 [US2] src/[location]/[file].pyに[エンドポイント/フィーチャー]を実装
- [ ] T023 [US2] ユーザーストーリー1のコンポーネントと統合（必要な場合）

**チェックポイント**: この時点で、ユーザーストーリー1と2の両方が独立して機能するべき

---

## フェーズ5: ユーザーストーリー3 - [タイトル]（優先度: P3）

**目標**: [このストーリーが提供するものの簡潔な説明]

**独立テスト**: [このストーリーが単独で機能することの検証方法]

### ユーザーストーリー3のテスト（オプション - テストが要求された場合のみ）⚠️

- [ ] T024 [P] [US3] tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト
- [ ] T025 [P] [US3] tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト

### ユーザーストーリー3の実装

- [ ] T026 [P] [US3] src/models/[entity].pyに[Entity]モデルを作成
- [ ] T027 [US3] src/services/[service].pyに[Service]を実装
- [ ] T028 [US3] src/[location]/[file].pyに[エンドポイント/フィーチャー]を実装

**チェックポイント**: すべてのユーザーストーリーが独立して機能しているはず

---

[同じパターンに従い、必要に応じてユーザーストーリーフェーズを追加]

---

## フェーズN: ポリッシュとクロスカッティング関心事

**目的**: 複数のユーザーストーリーに影響する改善

- [ ] TXXX [P] docs/のドキュメント更新
- [ ] TXXX コードクリーンアップとリファクタリング
- [ ] TXXX すべてのストーリーにわたるパフォーマンス最適化
- [ ] TXXX [P] 追加のユニットテスト（要求された場合）tests/unit/
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.mdの検証を実行

---

## 依存関係と実行順序

### フェーズの依存関係

- **セットアップ（フェーズ1）**: 依存関係なし - すぐに開始可能
- **基盤（フェーズ2）**: セットアップの完了に依存 - すべてのユーザーストーリーをブロック
- **ユーザーストーリー（フェーズ3以降）**: すべて基盤フェーズの完了に依存
  - ユーザーストーリーは並列で進行可能（人員がある場合）
  - または優先順位順に逐次実行（P1 → P2 → P3）
- **ポリッシュ（最終フェーズ）**: すべての所望のユーザーストーリーの完了に依存

### ユーザーストーリーの依存関係

- **ユーザーストーリー1（P1）**: 基盤（フェーズ2）後に開始可能 - 他のストーリーへの依存なし
- **ユーザーストーリー2（P2）**: 基盤（フェーズ2）後に開始可能 - US1と統合する場合があるが独立してテスト可能であるべき
- **ユーザーストーリー3（P3）**: 基盤（フェーズ2）後に開始可能 - US1/US2と統合する場合があるが独立してテスト可能であるべき

### 各ユーザーストーリー内

- テスト（含まれている場合）は実装の前に書いて失敗させる必要がある（MUST）
- モデルの前にサービスではない（モデルが先）
- サービスの前にエンドポイントではない（サービスが先）
- 統合の前にコア実装
- 次の優先度に移る前にストーリーを完了

### 並列実行の機会

- [P]マーカーが付いたすべてのセットアップタスクは並列実行可能
- [P]マーカーが付いたすべての基盤タスクは並列実行可能（フェーズ2内）
- 基盤フェーズが完了すると、すべてのユーザーストーリーを並列で開始可能（チーム容量がある場合）
- ユーザーストーリー内の[P]マーカーが付いた全テストは並列実行可能
- ストーリー内の[P]マーカーが付いたモデルは並列実行可能
- 異なるユーザーストーリーは異なるチームメンバーが並列で作業可能

---

## 並列実行例: ユーザーストーリー1

```bash
# ユーザーストーリー1のすべてのテストを同時に開始（テストが要求された場合）:
タスク: "tests/contract/test_[name].pyに[エンドポイント]のコントラクトテスト"
タスク: "tests/integration/test_[name].pyに[ユーザージャーニー]の統合テスト"

# ユーザーストーリー1のすべてのモデルを同時に開始:
タスク: "src/models/[entity1].pyに[Entity1]モデルを作成"
タスク: "src/models/[entity2].pyに[Entity2]モデルを作成"
```

---

## 実装戦略

### MVPファースト（ユーザーストーリー1のみ）

1. フェーズ1完了: セットアップ
2. フェーズ2完了: 基盤（重要 - すべてのストーリーをブロック）
3. フェーズ3完了: ユーザーストーリー1
4. **停止して検証**: ユーザーストーリー1を独立してテスト
5. 準備ができたらデプロイ/デモ

### インクリメンタルデリバリー

1. セットアップ + 基盤完了 → 基盤準備完了
2. ユーザーストーリー1追加 → 独立テスト → デプロイ/デモ（MVP！）
3. ユーザーストーリー2追加 → 独立テスト → デプロイ/デモ
4. ユーザーストーリー3追加 → 独立テスト → デプロイ/デモ
5. 各ストーリーは前のストーリーを壊すことなく価値を追加

### 並列チーム戦略

複数の開発者がいる場合:

1. チームがセットアップ + 基盤を一緒に完了
2. 基盤が完了したら:
   - 開発者A: ユーザーストーリー1
   - 開発者B: ユーザーストーリー2
   - 開発者C: ユーザーストーリー3
3. ストーリーは独立して完了・統合

---

## メモ

- [P] タスク = 異なるファイル、依存関係なし
- [Story] ラベルはタスクを特定のユーザーストーリーにマッピングしてトレーサビリティを確保
- 各ユーザーストーリーは独立して完了・テスト可能であるべき
- 実装前にテストが失敗することを確認
- 各タスクまたは論理的なグループの後にコミット
- 任意のチェックポイントで停止してストーリーを独立して検証可能
- 避けるべきこと: 曖昧なタスク、同一ファイルの競合、独立性を損なうクロスストーリー依存関係

````
