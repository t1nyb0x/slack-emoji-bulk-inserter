<!--
同期影響レポート
=================
バージョン変更: 1.0.0 → 1.1.0（技術スタックセクション追加）
変更された原則: なし
追加されたセクション:
  - 技術スタック（TypeScript / Chrome拡張機能）
削除されたセクション: なし
更新が必要なテンプレート:
  - .specify/templates/plan-template.md ✅ 変更不要（技術コンテキストは計画時に個別記入）
  - .specify/templates/spec-template.md ✅ 変更不要（仕様テンプレートは技術非依存）
  - .specify/templates/tasks-template.md ✅ 変更不要（タスク構造は汎用）
フォローアップTODO: なし
-->

# slack-emoji-bulk-inserter コンスティテューション

## 技術スタック

- **言語**: TypeScript
- **プラットフォーム**: Chrome拡張機能（Manifest V3）
- **ランタイム**: Chrome Extensions API

すべてのソースコードはTypeScriptで記述しなければならない（MUST）。
型安全性を最大限に活用し、`any` 型の使用は原則として禁止する。
やむを得ず使用する場合は理由をコメントで明記すること。

## コア原則

### I. クリーンコード

保守性の高いコードを記述しなければならない（MUST）。
コードは他の開発者が容易に理解・変更できる状態を維持する。
変数名・関数名は意図が明確に伝わる命名とし、
不要なコメントに頼らず、コード自体が意味を語る設計とする。

**根拠**: 保守性の低いコードは技術的負債を蓄積し、
バグの温床となる。クリーンコードはプロジェクトの
長期的な健全性を保証する基盤である。

### II. 早期リターン

条件分岐においては早期リターン（Early Return）パターンを
使用しなければならない（MUST）。ガード節を用いて
異常系・境界条件を関数の冒頭で処理し、
正常系のロジックのネストを最小限に抑える。

**根拠**: 深いネストは可読性を著しく低下させる。
早期リターンにより、関数の主要ロジックが
インデントの浅い位置に保たれ、理解しやすくなる。

### III. メソッド行数制限

メソッドが50行以上になる場合は、機能ごとに分割
しなければならない（MUST）。50行を超えるメソッドは
レビュー時にリファクタリング対象として指摘される。

**根拠**: 長大なメソッドは認知負荷が高く、
テスト・デバッグが困難になる。適切な粒度に分割することで
各部分の理解・テスト・再利用が容易になる。

### IV. 単一責任メソッド

メソッドは1つの機能のみを持たなければならない（MUST）。
1つのメソッドが複数の責務を担っている場合は、
責務ごとに独立したメソッドへ分割する。
メソッド名はその単一の責務を正確に表現すること。

**根拠**: 単一責任の原則（SRP）に準拠することで、
メソッドの予測可能性が高まり、変更時の影響範囲が
限定される。テストも責務ごとに明確に記述できる。

## コード品質の検証

コードレビューおよびセルフレビュー時に、以下の観点で
コンスティテューションへの適合性を検証する。

- **早期リターン**: ネストが3段以上になっていないか
- **メソッド行数**: 50行を超えるメソッドが存在しないか
- **単一責任**: メソッド名と実際の処理内容が一致しているか
- **命名**: 変数名・関数名が意図を正確に伝えているか
- **可読性**: コード自体が自己説明的であるか

## ガバナンス

本コンスティテューションはプロジェクトの全コードに適用され、
他のすべてのプラクティスに優先する。

### 修正手順

1. 修正提案をドキュメントとして記述する
2. 変更理由と影響範囲を明確にする
3. 承認後、コンスティテューションを更新し、
   バージョンをインクリメントする

### バージョニングポリシー

- **MAJOR**: 原則の削除または根本的な再定義
- **MINOR**: 新しい原則・セクションの追加、
  または実質的なガイダンスの拡張
- **PATCH**: 表現の明確化、タイポ修正、
  非セマンティクスの改善

### コンプライアンスレビュー

すべてのコード変更（PR）は本コンスティテューションの
原則への適合性を検証しなければならない（MUST）。
違反が発見された場合はマージ前に修正する。

**バージョン**: 1.1.0 | **批准日**: 2026-02-22 | **最終修正日**: 2026-02-22
